<!DOCTYPE html>
<html lang="en" >

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta property="og:title" content="" />
<meta property="og:description" content="Configuration A. Configure SMF with S-NSSAI  Configure NF Registration SMF S-NSSAI in smfcfg.conf  snssai_info:- sNssai:sst:1sd:010203dnnSmfInfoList:- dnn:internet- sNssai:sst:1sd:112233dnnSmfInfoList:- dnn:internetB. Configure Uplink Classifier (ULCL) information in SMF  Enable ULCL feature in smfcfg.conf  ulcl:trueConfigure UE routing path in uerouting.yaml  ueRoutingInfo:- SUPI:imsi-2089300007487AN:10.200.200.101PathList:- DestinationIP:60.60.0.101DestinationPort:8888UPF:!!seq- BranchingUPF- AnchorUPF1- DestinationIP:60.60.0.103DestinationPort:9999UPF:!!seq- BranchingUPF- AnchorUPF2 DestinationIP and DestinationPort will be the packet destination." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://free5gc.org/installations/stage-3-configuration/" />




<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Configuration A. Configure SMF with S-NSSAI  Configure NF Registration SMF S-NSSAI in smfcfg.conf  snssai_info:- sNssai:sst:1sd:010203dnnSmfInfoList:- dnn:internet- sNssai:sst:1sd:112233dnnSmfInfoList:- dnn:internetB. Configure Uplink Classifier (ULCL) information in SMF  Enable ULCL feature in smfcfg.conf  ulcl:trueConfigure UE routing path in uerouting.yaml  ueRoutingInfo:- SUPI:imsi-2089300007487AN:10.200.200.101PathList:- DestinationIP:60.60.0.101DestinationPort:8888UPF:!!seq- BranchingUPF- AnchorUPF1- DestinationIP:60.60.0.103DestinationPort:9999UPF:!!seq- BranchingUPF- AnchorUPF2 DestinationIP and DestinationPort will be the packet destination."/>
<meta name="generator" content="Hugo 0.79.1" />

    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "url": "https://free5gc.org/installations/stage-3-configuration/",
  "wordCount": "75",
  "datePublished": "0001-01-01T00:00:00+00:00",
  "author": {
    "@type": "Person",
    "name": "Your Name"
  }
}
</script>



    <link rel="canonical" href="https://free5gc.org/installations/stage-3-configuration/">

    <title> | free5GC</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">

    <!-- combined, minified CSS -->
    
    <link href="https://free5gc.org/css/bootstrap-icons.0568af55d343ad2fc9c221a17a15697dc5ef49add4551c5eb3e59d7582385228.css" rel="stylesheet">
    
    <link href="https://free5gc.org/css/style.73f0736b85bdf48090ed384697200a968c025d194f60717e37a515c4c87a8893.css" rel="stylesheet">

    <!-- minified base javascript -->
    
    <script defer src="https://free5gc.org/js/base.e5993f7509e480925eff41173b2176d6d85ef3df70ad0388d9275d09f0c3d966.js" crossorigin="anonymous"></script>

    

  </head>

  <body>

    
    <header class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
      <p class="h5 my-0 me-md-auto fw-normal">
        <a class="nav-link " href="https://free5gc.org">
          <img src="/img/free5GC.png" width="217" height="51">
        </a>
      </p>
      <nav class="btn-group" role="group" aria-label="Basic outlined example">
          
          <a class="btn btn-outline-primary"
             href="/" title="Home">Home</a>
          
        
          
          <a class="btn btn-outline-primary"
             href="/roadmap/" title="Roadmap">Roadmap</a>
          
        
          
          <div id="btn-group-install" class="btn-group" role="group">
            <button type="button"
                    class="btn btn-outline-primary dropdown-toggle active"
                    data-bs-toggle="dropdown" aria-expanded="false">
              Installations
            </button>
            <ul class="dropdown-menu" aria-labelledby="btn-group-install">
              
              <li><a class="dropdown-item"
                     
                     title="Stage 1: Cluster"
                     href="/installations/stage-1-cluster/">Stage 1: Cluster</a></li>
              
              <li><a class="dropdown-item"
                     
                     title="Stage 1: All-in-one"
                     href="/installations/stage-1-all-in-one/">Stage 1: All-in-one</a></li>
              
              <li><a class="dropdown-item"
                     
                     title="Stage 2: Standalone 5G"
                     href="/installations/stage-2-standalone-5g/">Stage 2: Standalone 5G</a></li>
              
              <li><a class="dropdown-item"
                     
                     title="Stage 3: free5GC"
                     href="/installations/stage-3/">Stage 3: free5GC</a></li>
              
            </ul>
          </div>
          
        
          
          <a class="btn btn-outline-primary"
             href="/membership/" title="Membership">Membership</a>
          
        
          
          <a class="btn btn-outline-primary"
             href="/contactus/" title="Contact Us">Contact Us</a>
          
        
          
          <div id="btn-group-more" class="btn-group" role="group">
            <button type="button"
                    class="btn btn-outline-primary dropdown-toggle"
                    data-bs-toggle="dropdown" aria-expanded="false">
              More
            </button>
            <ul class="dropdown-menu" aria-labelledby="btn-group-more">
              
              <li><a class="dropdown-item"
                     target="_blank"
                     title="Download"
                     href="https://github.com/free5gc/free5gc">Download</a></li>
              
              <li><a class="dropdown-item"
                     target="_blank"
                     title="Youtube"
                     href="https://www.youtube.com/channel/UCywP5Acj50GlhSxZTJXlqtw/videos">Youtube</a></li>
              
              <li><a class="dropdown-item"
                     target="_blank"
                     title="free5GC Forum"
                     href="https://forum.free5gc.org/">free5GC Forum</a></li>
              
              <li><a class="dropdown-item"
                     
                     title="History"
                     href="/history/">History</a></li>
              
            </ul>
          </div>
          
        
      </nav>
    </header>
    

    <div class="container-fluid mx-auto" style="max-width: 960px;">

      


<article class="blog-post">
  <header>
    <h2 class="blog-post-title" dir="auto"><a href="https://free5gc.org/installations/stage-3-configuration/"></a></h2>
    <p class="blog-post-meta">

</p>
  </header>
  <h2 id="configuration">Configuration</h2>
<h3 id="a-configure-smf-with-s-nssai">A. Configure SMF with S-NSSAI</h3>
<ol>
<li>Configure NF Registration SMF S-NSSAI in <code>smfcfg.conf</code></li>
</ol>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-yaml" data-lang="yaml"><span style="color:#062873;font-weight:bold">snssai_info</span>:<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#062873;font-weight:bold">sNssai</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">sst</span>:<span style="color:#bbb"> </span><span style="color:#40a070">1</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">sd</span>:<span style="color:#bbb"> </span><span style="color:#40a070">010203</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">dnnSmfInfoList</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#062873;font-weight:bold">dnn</span>:<span style="color:#bbb"> </span>internet<span style="color:#bbb">
</span><span style="color:#bbb"></span>- <span style="color:#062873;font-weight:bold">sNssai</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">sst</span>:<span style="color:#bbb"> </span><span style="color:#40a070">1</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">sd</span>:<span style="color:#bbb"> </span><span style="color:#40a070">112233</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">dnnSmfInfoList</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span>- <span style="color:#062873;font-weight:bold">dnn</span>:<span style="color:#bbb"> </span>internet<span style="color:#bbb">
</span></code></pre></div><h3 id="b-configure-uplink-classifier-ulcl-information-in-smf">B. Configure Uplink Classifier (ULCL) information in SMF</h3>
<ol>
<li>Enable ULCL feature in <code>smfcfg.conf</code></li>
</ol>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-yaml" data-lang="yaml"><span style="color:#bbb">    </span>ulcl:true<span style="color:#bbb">
</span></code></pre></div><ol start="2">
<li>Configure UE routing path in <code>uerouting.yaml</code></li>
</ol>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-yaml" data-lang="yaml"><span style="color:#062873;font-weight:bold">ueRoutingInfo</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span>- <span style="color:#062873;font-weight:bold">SUPI</span>:<span style="color:#bbb"> </span>imsi-2089300007487<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">AN</span>:<span style="color:#bbb"> </span><span style="color:#40a070">10.200.200.101</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">PathList</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- <span style="color:#062873;font-weight:bold">DestinationIP</span>:<span style="color:#bbb"> </span><span style="color:#40a070">60.60.0.101</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">DestinationPort</span>:<span style="color:#bbb"> </span><span style="color:#40a070">8888</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">UPF</span>:<span style="color:#bbb"> </span><span style="color:#007020">!!seq</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span>- BranchingUPF<span style="color:#bbb">
</span><span style="color:#bbb">          </span>- AnchorUPF1<span style="color:#bbb">
</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span>- <span style="color:#062873;font-weight:bold">DestinationIP</span>:<span style="color:#bbb"> </span><span style="color:#40a070">60.60.0.103</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">DestinationPort</span>:<span style="color:#bbb"> </span><span style="color:#40a070">9999</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">UPF</span>:<span style="color:#bbb"> </span><span style="color:#007020">!!seq</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span>- BranchingUPF<span style="color:#bbb">
</span><span style="color:#bbb">          </span>- AnchorUPF2<span style="color:#bbb">
</span></code></pre></div><ul>
<li>DestinationIP and DestinationPort will be the packet  destination.</li>
<li>UPF field will be the packet datapath when it match the destination above.</li>
</ul>
<p><em><strong>For more detail of SMF config, please refer to <a href="/installations/stage-3-smf-config/">here</a>.</strong></em></p>


  

  
  <hr>
  <footer>

  
    <section>
    <h4></h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ffree5gc.org%2finstallations%2fstage-3-configuration%2f" title="Share on Facebook"><span class="fab fa-facebook-f fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ffree5gc.org%2finstallations%2fstage-3-configuration%2f" title="Share on LinkedIn"><span class="fab fa-linkedin-in fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/intent/tweet?url=https%3a%2f%2ffree5gc.org%2finstallations%2fstage-3-configuration%2f&amp;text=" title="Tweet this"><span class="fab fa-twitter fa-2x"></span></a>
    </nav>
  </section>


  

  
  </footer>
  

</article> 



      
      <footer class="pt-4 my-md-5 pt-md-5 border-top">
        <div class="row">
          <div class="col-12 col-md">
	    <a href="https://free5gc.org"><img class="mb-2" src="/img/free5GC.png" alt="" height="32"></a>
            <small class="d-block mb-1 text-muted">&copy; Copyright January 2019 free5GC.org</small>
            <small class="d-block mb-1 text-muted">All rights reserved.</small>
          </div>
          <div class="col-6 col-md">
            <h5>Contact:</h5>
            <ul class="list-unstyled text-small">
              <li>
                <a class="link-secondary" href="mailto:free5GC.org@gmail.com"
                   target="_self"><span style="text-decoration:underline">free5GC.org@gmail.com</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </footer>
      
    </div> <!-- /.container-fluid -->
  </body>

</html>

